# Домашнее задание к занятию "Управление доступом"

### Цель задания

В результате выполнения этого задания вы попрактикуетесь в реализации элементарных и обязательных правил доступа, отработаете процедуру организации дефолтных привелегий, реализуете на практике доступ к данным с маскировкой некоторых, например, требующихся данных таблицы.

1. Освоить минимально необходимый навык выполнения административных функций
2. Потренироваться в настройке безопасности и защищенности
3. Научится обеспечивать необходимый минимальный уровень доступа и управления БД

------

### Чеклист готовности к домашнему заданию

1. Есть ранее созданная БД PostgreSQL для выполнения заданий.

------

### Инструкция к заданию

1. Попробуйте решить поставленные задачи минимальным набором действий

------

### Пререквизиты: 

1. Сгенерировать небольшую таблицу **tab1** со следующими колонками данных:
- id bigint 
- name varchar(30) 
- id_card text)  

Владелец таблицы может быть пользователь-владелец схемы, либо postgres (если он у вас по умолчанию остался как владелец схемы и базы).   

2. Наполнить ее тестовыми данными по вашему усмотрению.

### Задание 1

1. создать два пользователя user1, user2 которые смогут подключаться к БД, пароль '123', выдать следующие права:
      - user1 - чтение, вставка и апдейт данных в таблице tab1
      - user2 - чтение и удаление данных из таблицы tab1
2. создать роль role1 без прав подключения к БД, дать права роли на чтение таблицы tab1,
   создать дефолтную политику - права на чтение для созданной роли role1 
3. создайте представление tab1_view для таблички tab1 со скрытием-маскировкой колонки id_card например с использованием функции md5() (или можно другим методом на ваше усмотрение), то есть в место реального значения в колонке id_card команда select из представления должна выводить измененную-модифицированную информацию.

*В качестве выполненного задания приложите текст команд, которые вы использовали и скриншот результата*

### Задание 2

1. создать два пользователя user1, user2, которые смогут подключаться к БД, выдать следующие права:
      - user1 - чтение данных в таблице
      - user2 - удаление данных частичное и полное в таблицы
2. создать роль role1 без прав подключения к БД, дать права роли на чтение таблицы tab1,
   создать дефолтную политику - права (insert, update, delete) для ранее созданной роли role1
3. создать представление tab1_view для таблички tab1 с нулевым значением колонки id, то есть чтобы команда select из представления выводила все колонки как есть, а в место реальных данных колонки id показывался 0 или null значение.

*В качестве выполненного задания приложите текст команд, которые вы использовали и скриншот результата*

### Задание 3*

1. создать два пользователя user3, user4 которые смогут подключаться к БД, выдать следующие права:
      - user3 - выдать все права (в том числе truncate таким методом что бы не использовать саму опции truncate в команде grant) для таблицы tab1
      - user4 - выдать права на четние для таблицы tab1
2. создать роль role2 с разрешением параллельных сессии для нее не больше 2, включить в эту роль пользователя user3 с правом этому пользователю так же включать в эту роль других пользователей.
3. создать роль role3 c разрешением параллельных сессии не больше 5, без права пользователям, входящим в нее, так же включать в эту роль других пользователей, назначить эту роль пользователю user4

*В качестве выполненного задания приложите текст команд, которые вы использовали и скриншот результата*

------

### Правила приема работы

В личном кабинете отправлена ссылка на документ (Google Doc) с выполненным заданием. В документе настроены права доступа “Просматривать могут все в Интернете, у кого есть ссылка”.

------

### Критерии оценки

Зачет - выполнены все обязательные задания, ответы даны в развернутой форме, приложены соответствующие скриншоты и файлы проекта, в выполненных заданиях нет противоречий и нарушения логики.

На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.
